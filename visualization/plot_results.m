% Script to plot training curves
close all; clear all; clc;
file_name = 'MNIST_BIG_RESULTS_19';

load(file_name)
ntrials = size(loss_save,1);
epochs = size(loss_save,2);

if(ntrials > 1)
    loss_mean = mean(loss_save);
    test_acc_mean = mean(test_acc_save)*100;
    train_acc_mean = mean(train_acc_save) * 100;
else   
    loss_mean = loss_save;
    test_acc_mean = test_acc_save*100;
    train_acc_mean = train_acc_save * 100;
end

width = 4;
height = 2;
msz = 3;
lw = 1;

% plot training accuracy
figure('Units','inches',...
    'Position',[0 0 width height],...
    'PaperPositionMode','auto');
y1 = train_acc_mean;
y2 = test_acc_mean;
plot(1:epochs,y1,':bd',1:epochs,y2,':ro','MarkerSize',msz,'LineWidth',lw)
set(gca,...
    'Units','normalized',...
    'YTick',0:10:100,...
    'XTick',5:5:epochs,...
    'Position',[0.15 0.2 0.75 0.7],...
    'FontUnits','points',...
    'FontWeight','bold',...
    'FontSize',8,...
    'FontName','Times')
ylim([0 100]);
ylabel('Accuracy (%)',...
    'FontUnits','points',...
    'FontWeight','bold',...
    'FontSize',10,...
    'FontName','Times')
xlim([1 30])
xlabel('Training Epochs',...
    'FontUnits','points',...
    'FontWeight','bold',...
    'FontSize',10,...
    'FontName','Times')
legend('Training','Testing','Location','southeast')
% Save the file as PNG
print('dct_2','-dpng','-r300');
